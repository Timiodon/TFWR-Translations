# 模擬
模擬允許你在不改變實際農場狀態的情況下快速測試程式碼。模擬的起始狀態可以自由選擇，當模擬結束時，真實農場會回到模擬開始前的完全相同狀態。

使用 `simulate()` 函式啟動模擬。

要從哪個檔案開始執行

```
filename = "f1"
```

以全部解鎖且完全升級的狀態開始

```
sim_unlocks = Unlocks`

以 10000 根胡蘿蔔和 50 捆乾草開始

```
sim_items = {Items.Carrot : 10000, Items.Hay : 50}
```

以全域變數 "a" 的值為 13 開始

```
sim_globals = {"a" : 13}
```

使用固定的亂數種子

```
seed = 0
```

以 64 倍速加速模擬

```
speedup = 64
```

執行模擬

```
run_time = simulate(filename, sim_unlocks, sim_items, sim_globals, seed, speedup)
```

`simulate()` 函式會回傳模擬指定起始檔案所需的時間（以秒為單位）。

### 檔案名稱
`simulate()` 函式的第一個引數為檔案名稱。這是顯示在程式碼視窗頂端的名稱。模擬會如同你按下該檔案的執行按鈕一樣執行指定的檔案。

### 起始解鎖項目
所有程式語言功能，如迴圈、if 陳述式、串列、字典……會永遠保持解鎖。

第二個引數允許你指定模擬起始時應具備的其他解鎖或升級。這應為一個解鎖的序列。模擬會將該序列中的所有解鎖項目升級到其最大等級後開始。

如果你想指定非最大等級的升級，可以傳入一個將解鎖對應到等級的字典。在這個情況下，負值代表最大等級。

### 起始物品
第三個引數允許你傳入一個將物品映射到數量的字典，用以指定模擬起始時擁有的物品。

### 起始全域變數
由於模擬會啟動一個全新的程式執行，你無法存取啟動模擬的程式中的變數。
不過可以透過第四個引數將值傳入模擬。這是一個將字串形式的變數名稱映射到值的字典。這些變數會被加入到模擬執行內的全域作用域中。

注意這會複製所有值，因此在模擬內變更它們不會影響模擬外的原始值。除模擬耗時外，無法從模擬回傳其他值。

### 亂數種子
第五個引數允許你指定模擬使用的亂數種子。此值必須為正整數。負值會導致使用隨機種子。

亂數種子會影響從植物生長時間到迷宮配置到水衰減時間等所有隨機行為。如果你以相同亂數種子和相同起始條件多次啟動相同模擬，結果應該都會相同。

### 加速
第六個引數為模擬的起始加速倍率，可用來快速測試。如果遊戲無法跟上設定速度，會自動降低執行速度。

加速不會以任何方式影響模擬結果。它僅用於縮短等待時間。