# 函式
使用 `def` 關鍵字來定義新的函式：

```
def f(arg1, arg2 = False):
	# 函式程式碼
```

使用 `()` 来呼叫某個函式：

```
f(42)
```

另請詳閱[作用域](docs/scripting/scopes.md)以了解函式中的區域變數和全域變數。

## 介紹
你已經見過像 `harvest()` 這樣的內建函式。
你也可以定義自己的函式，藉此以模組化方式組織程式碼。簡單來說，本質上就是為一段程式碼命名，之後可以在任何需要的地方呼叫它。

## 函式定義
例如，你可以定義一個讓無人機移動多次的函式：

```
def move_n_dir(n, dir):
	for i in range(n):
		move(dir)
```

`def` 關鍵字表示這是一個函式定義。
`move_n_dir` 是函式所綁定的名稱。這可以是任何有效的變數名稱，用來呼叫該函式。
`n` 和 `dir` 是參數。它們是用來儲存傳入函式的值的變數（這些值也稱為引數）。你可以在函式定義中加入任意數量的參數。
在冒號 `:` 之後為函式被呼叫時會執行的程式碼區塊。

根據上述定義，下面的程式會將無人機向 `North` 移動 `10` 格，然後向 `West` 移動 `2` 格。

```
move_n_dir(10, North)
move_n_dir(2, West)
```

當你看到 `def function():` 時，實際上可以把它想成一個賦值操作，例如：

```
function = create_new_function_object()
```

如同其他賦值一樣，你不能在變數被指派之前使用！
`def` 陳述式必須在任何函式呼叫之前執行。
下列程式會拋出錯誤：

```
func()
def func():
	pass
```

## 回傳值
使用 `return` 關鍵字讓函式回傳一個值。
例如，下面的函式定義了互斥或運算：當一個值為 `True` 而另一個為 `False` 時回傳 `True`：

```
def xor(a, b):
	return a != b

if xor(True, False):
	do_a_flip()
```

[元組](docs/scripting/tuples.md)允許回傳多個值。

## 預設引數
你也可以指定預設值，當未提供引數時會使用該預設值。

```
def f(a = False):
	if a:
		do_a_flip()

f()

f(True)
```

具有預設值的引數不能放在沒有預設值的引數之後。

## 進階函式用法
函式與其他值一樣是值，`def` 陳述式的行為就像賦值陳述式，將函式指派給你所給予的名稱。
這使得可以做出如下操作：

```
def f():
	def d():
		do_a_flip()
	return d

f()()
```

這裡 `f()` 呼叫函式 `f`，該函式定義並回傳一個新函式 `d`。第二個 `()` 則執行被回傳的函式並執行 `do_a_flip()` 操作。
（通常不建議頻繁使用此寫法，因為會使程式較難理解。）

接受其他函式作為參數的函式可以讓你寫出很有創意的程式：

```
def f(g, arg):
	for _ in range(10):
		g(arg)

f(move, North)
f(use_item, Items.Fertilizer)
```

上述程式會先讓無人機向 `North` 移動 `10` 次，接著使用肥料 `10` 次。